# code_docs
README
Prerequisites

PostgreSQL running and reachable by the backend
Python environment with required dependencies installed (backend + Streamlit UI)

python -m venv venv 
venv/Scripts/activate
cd backend
pip install -r requirements.txt


Run the Backend (FastAPI)

Open a terminal and go to the backend directory.
Start the FastAPI server:

Bash# Code Generated by Sidekick is for learning and experimentation purposes only.
uvicorn app.main:app --reload


Run the UI (Streamlit)

Open a terminal and go to the code_doc_ai directory.

Admin UI
Bash# Code Generated by Sidekick is for learning and experimentation purposes only.
streamlit run frontend/streamlit_admin.py

User UI
Bash# Code Generated by Sidekick is for learning and experimentation purposes only.
streamlit run frontend/streamlit_app.py


Database Setup (PostgreSQL)
Run the following SQL to create the required tables and extension:
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
CREATE TABLE IF NOT EXISTS users (
    id BIGSERIAL PRIMARY KEY,
    email TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    is_admin BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS projects (
    id BIGSERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    persona TEXT NOT NULL, -- SDE / PM / BOTH
    owner_id BIGINT REFERENCES users(id) ON DELETE CASCADE,
    status TEXT DEFAULT 'CREATED'
);

CREATE TABLE IF NOT EXISTS analysis_states (
    id BIGSERIAL PRIMARY KEY,
    project_id BIGINT REFERENCES projects(id) ON DELETE CASCADE,
    stage TEXT,
    message TEXT,
    progress INT DEFAULT 0,
    paused BOOLEAN DEFAULT FALSE
);

CREATE EXTENSION IF NOT EXISTS vector;

CREATE TABLE IF NOT EXISTS code_embeddings (
    id BIGSERIAL PRIMARY KEY,
    project_id BIGINT REFERENCES projects(id) ON DELETE CASCADE,
    file_path TEXT NOT NULL,
    content TEXT,
    embedding VECTOR(1536)
);




